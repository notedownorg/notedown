# VHS tape for testing Notedown plugin initialization
# This test verifies that the plugin loads correctly and LSP server starts

# Output configuration
Output "{{.OutputFile}}"
{{if .GenerateGIF}}Output "{{.TmpDir}}/{{.TestName}}.gif"{{end}}
Set FontSize 12
Set Width 1200
Set Height 800
Set TypingSpeed 50ms
Set PlaybackSpeed 0.2
Set Framerate 30

# Hide all shell setup
Hide

# Change to test workspace
Type "cd '{{.WorkspaceDir}}'"
Enter
Sleep 1s

# Start Neovim with clean environment in directory mode
Type "nvim --clean -u '{{.ConfigFile}}' ."
Enter
Sleep 4s

# Open the index.md file
Type ":edit index.md"
Enter
Sleep 3s

# Test Notedown workspace status command
Show
Type ":NotedownWorkspaceStatus"
Sleep 1s
Enter
Sleep 8s

